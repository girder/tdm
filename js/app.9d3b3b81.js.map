{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/VideoRegion.vue?a752","webpack:///./src/components/VideoControls.vue?71ce","webpack:///./src/components/TdmTable.vue?6496","webpack:///./src/components/TdmTemporal.vue?f0b5","webpack:///./src/components/DivaKpfWidget.vue?8b17","webpack:///./src/utils/tdm.js","webpack:///./src/utils/divakpf.js","webpack:///src/components/DivaKpfWidget.vue","webpack:///./src/components/DivaKpfWidget.vue?f0e9","webpack:///./src/components/DivaKpfWidget.vue","webpack:///./src/components/SelectionWidget.vue?c237","webpack:///src/components/SelectionWidget.vue","webpack:///./src/components/SelectionWidget.vue?6f96","webpack:///./src/components/SelectionWidget.vue","webpack:///./src/components/TdmTable.vue?3b9e","webpack:///src/components/TdmTable.vue","webpack:///./src/components/TdmTable.vue?7a47","webpack:///./src/components/TdmTable.vue","webpack:///./src/components/TdmTemporal.vue?767d","webpack:///./src/components/TimeSlider.vue?b3f4","webpack:///./src/utils/timebus.js","webpack:///src/components/TimeSlider.vue","webpack:///./src/components/TimeSlider.vue?7259","webpack:///./src/components/TimeSlider.vue","webpack:///./src/utils/index.js","webpack:///src/components/TdmTemporal.vue","webpack:///./src/components/TdmTemporal.vue?b3e5","webpack:///./src/components/TdmTemporal.vue","webpack:///./src/components/VideoRegion.vue?3458","webpack:///./src/constants.js","webpack:///src/components/VideoRegion.vue","webpack:///./src/components/VideoRegion.vue?6963","webpack:///./src/components/VideoRegion.vue","webpack:///./src/index.js","webpack:///./demo_app/App.vue?d7ea","webpack:///./src/layouts/TwoColumn.vue?e0e9","webpack:///./src/components/VideoControls.vue?5d3c","webpack:///src/components/VideoControls.vue","webpack:///./src/components/VideoControls.vue?546f","webpack:///./src/components/VideoControls.vue","webpack:///src/layouts/TwoColumn.vue","webpack:///./src/layouts/TwoColumn.vue?2d0c","webpack:///./src/layouts/TwoColumn.vue","webpack:///demo_app/App.vue","webpack:///./demo_app/App.vue?6c77","webpack:///./demo_app/App.vue","webpack:///./src/store/index.js","webpack:///./demo_app/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_VideoRegion_vue_vue_type_style_index_0_id_55125edc_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_VideoRegion_vue_vue_type_style_index_0_id_55125edc_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_VideoControls_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_VideoControls_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TdmTable_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TdmTable_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TdmTemporal_vue_vue_type_style_index_0_id_206935fb_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_stylus_loader_index_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TdmTemporal_vue_vue_type_style_index_0_id_206935fb_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","DivaKpfWidgetvue_type_template_id_109f5baf_lang_pug_render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","attrs","column","ref","type","accept","width","color","on","click","process","staticRenderFns","STATES","ACTIVE","DISABLED","HIDDEN","SHAPES","POINT","LINE","interpolateFrames","currentFrame","d0","d1","len","frame","b","Math","abs","a","box","map","_","round","objectSpread","scaleBox","scale","centroid","x","arguments","undefined","y","findThresholdCrossings","track","threshold","thresholdKey","crossings","pair","looking","detections","val","meta","seriesForThreshold","tracks","filter","series","generateDetectionLines","GEOM_ACTOR_KEY","TIMERANGE_KEY","readUploadedFileAsText","inputFile","fallback","temporaryFileReader","FileReader","promise_default","resolve","reject","onerror","err","console","error","abort","DOMException","onload","readAsText","KPF","activities","geom","types","classCallCheck","tracksByActor","postProcess","_this","filterEmpty","newTypes","forEach","id","keys_default","cset3","g","bbox","g0","split","f","parse_float_default","ts0","actors","actor","timespan","filterRange","act2","src","_this2","staticMeta","basekey","assign_default","activity","activity_id","id2","actor_id","src_status","concat","interpolated","state","begin","end","idx","occlusion","confidence","sort","_ref","toConsumableArray","actorColor","randomColor","ts1","list","validKeyList","some","e","lower","upper","item","activityText","geometryText","typeText","activityJson","yaml","safeLoad","act","geometryJson","typeJson","activityFile","geometryFile","typeFile","promiseList","all","fromText","DivaKpfWidgetvue_type_script_lang_js_","methods","_process","asyncToGenerator","regeneratorRuntime","mark","_callee","activityFiles","geometryFiles","typeFiles","annotations","wrap","_context","prev","next","setTimeout","$refs","files","geometry","divakpf_KPF","fromFiles","sent","$emit","getTDM","origin","stop","components_DivaKpfWidgetvue_type_script_lang_js_","component","componentNormalizer","DivaKpfWidget","SelectionWidgetvue_type_template_id_ffe94f98_lang_pug_render","hide-details","input-value","allchecked","change","toggle","_l","v","k","colormap","$event","updateState","SelectionWidgetvue_type_template_id_ffe94f98_lang_pug_staticRenderFns","SelectionWidgetvue_type_script_lang_js_","checked","computed","vuex_esm","statemap","resetState","newstate","currentState","newState","toggleByMeta","components_SelectionWidgetvue_type_script_lang_js_","SelectionWidget_component","SelectionWidget","TdmTablevue_type_template_id_193a2549_lang_pug_render","items","headers","rows-per-page-items","rowsPerPage","scopedSlots","_u","fn","props","_s","style","_e","TdmTablevue_type_template_id_193a2549_lang_pug_staticRenderFns","TdmTablevue_type_script_lang_js_","default","text","components_TdmTablevue_type_script_lang_js_","TdmTable_component","TdmTable","TdmTemporalvue_type_template_id_206935fb_scoped_true_lang_pug_render","row","staticStyle","height","mousemove","group","transform","path","stroke","opacity","dy","timeline","justify-end","thresholdHeight","handleThreshClick","margin","waterline","fill","threshtext","TdmTemporalvue_type_template_id_206935fb_scoped_true_lang_pug_staticRenderFns","TimeSlidervue_type_template_id_81af5c36_lang_pug_render","max","duration","step","domProps","time","offset","input","progressChangeInput","TimeSlidervue_type_template_id_81af5c36_lang_pug_staticRenderFns","TimeBus","Vue","TimeSlidervue_type_script_lang_js_","mounted","timebus","$on","framerate","target","fixed","toFixed","components_TimeSlidervue_type_script_lang_js_","TimeSlider_component","TimeSlider","debounce","func","wait","timeout","immediate","count","NaN","counter","context","utils_this","args","callNow","later","clearTimeout","is_nan_default","valBetween","min","getParams","url","params","parser","document","createElement","href","query","search","substring","vars","decodeURIComponent","TdmTemporalvue_type_script_lang_js_","components","Number","String","xbuffer","groups","threshPaths","drag","addEventListener","handleResize","svg","barsvg","listen","ignore","beforeDestroy","removeEventListener","watch","setSeries","setThreshPaths","setThreshText","setGroups","setTimeline","setHeight","setWaterline","$nextTick","cwidth","container","clientWidth","svgcontainer","event","d3","domain","range","offsetY","toPrecision","_this3","lineFunction","defined","liney","paths","bars","bar","top","_this4","lineFunc","colorBy","_this5","sm","cache","components_TdmTemporalvue_type_script_lang_js_","TdmTemporal_component","TdmTemporal","VideoRegionvue_type_template_id_55125edc_scoped_true_lang_pug_render","align-center","muted","videoWidth","videoHeight","canplay","canPlay","VideoRegionvue_type_template_id_55125edc_scoped_true_lang_pug_staticRenderFns","SORT_RESOLUTION","CONTRAST_COLORS","SEQUENCE_COLORS","DISABLED_COLOR","VideoRegionvue_type_script_lang_js_","required","zoom","labelFormat","Array","defaultColor","pipsize","loading","Boolean","lineWidth","ctx","pipctx","staticctx","pipstaticctx","mouse","video","animationId","debouncedRedraw","debounceTime","playbackRate","newval","updateActive","currentTime","updateStatic","setupCanvas","setupPip","resetMouse","drawInfo","playing","_playing","play","pause","shapes","load","mouseup","$off","updateTime","stills","canvas","getContext","pipcanvas","staticcanvas","pipstatic","utils_debounce","clearCanvas","drawPiP","drawStatic","mousedown","scrollmove","frametime","activeKeyFrames","$store","getters","activeInterpolated","activeContinuousFrames","loop","$video","frameoffset","paused","ended","setPlaying","drawStills","drawStamp","drawMouse","drawPiPDynamic","requestAnimationFrame","canvasHeight","cvs","paddingTop","paddingLeft","clearRect","fillStyle","globalAlpha","fillRect","font","tw","measureText","fillText","drawDot","radius","enabled","activityColor","strokeStyle","beginPath","arc","PI","drawLine","moveTo","lineTo","scalex","scaley","point","boxes","rect","labels","values","join","textWidth","frameText","floor","toString","frameTextWidth","realX","realY","realWidth","pipWidth","imageSmoothingEnabled","drawImage","drawables","drawfn","mainScale","left","right","zIndex","layerX","oldx","layerY","oldy","components_VideoRegionvue_type_script_lang_js_","VideoRegion_component","VideoRegion","install","use","Vuetify","VueAsyncComputed","Appvue_type_template_id_40b90de4_lang_pug_render","dark","shrink","autoplay","label-format","slot","tile","update:threshold","loaded","addTracks","Appvue_type_template_id_40b90de4_lang_pug_staticRenderFns","TwoColumnvue_type_template_id_fa075736_lang_pug_render","fluid","justify-center","_t","line-width","loadingInternal","init","color-by-options","skip","region","twoColumn","sidebarWidth","handleTrackSelect","TwoColumnvue_type_template_id_fa075736_lang_pug_staticRenderFns","VideoControlsvue_type_template_id_3763a1c4_lang_pug_render","dense","icon","localPlaying","directives","rawName","expression","playbackRateOptions","localPlaybackRate","solo","setPlaybackRate","label","localShowLabels","setShowLabels","localShowShapes","setShowShapes","keys","colorByOptions","localColorBy","updateColorBy","VideoControlsvue_type_template_id_3763a1c4_lang_pug_staticRenderFns","VideoControlsvue_type_script_lang_js_","withslider","scrubbing","localDuration","localOffset","store","setFromStore","pad","num","toTimeStamp","seconds","sec","groupByMeta","find","direction","components_VideoControlsvue_type_script_lang_js_","VideoControls_component","VideoControls","TwoColumnvue_type_script_lang_js_","resize","location","hash","colorByMeta","setPreselect","preselect","select","log","minWidth","cw","layouts_TwoColumnvue_type_script_lang_js_","TwoColumn_component","TwoColumn","Appvue_type_script_lang_js_","TdmApp","initialColorBy","autocomplete","_mounted","_ref2","_ref3","kpf","tdms","setUrl","setWidth","parse_int_default","setFramerate","setDuration","axios_default","setTracks","t0","message","demo_app_Appvue_type_script_lang_js_","App_component","App","Vuex","sortedTracks","continuousFrames","sorted","firstDetectionTime","detectionIndex","frames","trackinfo","mutations","bucketSort","bucket","assignedColors","colorByBucketSequence","enabledMap","setColorBy","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","setOffset","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref17$newState","_ref17$elseState","elseState","_ref17$xor","xor","actions","_ref18","_ref19","commit","_ref20","_ref21","_ref22","_ref23","Store","Tdm","render","h","$mount"],"mappings":"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","file":"js/app.9d3b3b81.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"ff75\",\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoRegion.vue?vue&type=style&index=0&id=55125edc&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoRegion.vue?vue&type=style&index=0&id=55125edc&lang=stylus&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoControls.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoControls.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTable.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTable.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTemporal.vue?vue&type=style&index=0&id=206935fb&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTemporal.vue?vue&type=style&index=0&id=206935fb&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',{staticClass:\"title\"},[_vm._v(\"Features:\")]),_vm._m(0),_c('v-layout',{staticClass:\"pb-3\",attrs:{\"column\":\"\"}},[_c('label',[_vm._v(\"Activities:\")]),_c('input',{ref:\"activities\",attrs:{\"type\":\"file\",\"accept\":\".yml\"}}),_c('label',{staticClass:\"mt-2\"},[_vm._v(\"Geometry:\")]),_c('input',{ref:\"geometry\",attrs:{\"type\":\"file\",\"accept\":\".yml\"}}),_c('label',{staticClass:\"mt-2\"},[_vm._v(\"Types:\")]),_c('input',{ref:\"types\",attrs:{\"type\":\"file\",\"accept\":\".yml\"}})]),_c('v-btn',{staticClass:\"ma-0\",attrs:{\"width\":\"80px\",\"color\":\"primary\"},on:{\"click\":_vm.process}},[_vm._v(\"Process KPF\")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"pb-3\"},[_c('li',[_vm._v(\"click-and-drag to zoom\")]),_c('li',[_vm._v(\"click elsewhere on the video to dismiss\")]),_c('li',[_vm._v(\"click a row in the track table to scrub to that time\")]),_c('li',[_vm._v(\"toggle annotation labels with the switch\")]),_c('li',[_vm._v(\"change color scheme with the dropdown\")]),_c('li',[_vm._v(\"upload your own KPF YML files\")])])}]\n\nexport { render, staticRenderFns }","/*\n\nTDM is a format for visualizing annotations on video.\nIt is a lossy format, and should not be used to store or\nsave information about an annotation. TDM is designed to\nbe simple enough that any annotation generation method\nshould produce sufficient data to transcribe to TDM.\n\nTDM stands for Tracks, Detections, and Metadata.\n\nSome metadata properties are considered first-class, such\nas \"color\" and \"label\".  They can directly affect how the track\nis rendered.  Other metadata properties can be tertiary, and\nexist for the purpose of easily finding and manipulating other\nproperties.\n\nFor example, \"actor_id\" has no meaning in TDM, but a client\napplication may want to set \"state\" = \"hidden\" for all \"actor_id\"\nmatching a certain value.\n\n*/\n\n/**\n * @typedef {string} TrackState\n */\n\n/**\n * Enum for track state\n * @readonly\n * @enum {TrackState}\n */\nexport const STATES = {\n  ACTIVE: 'active',\n  DISABLED: 'disabled',\n  HIDDEN: 'hidden',\n};\n\n/**\n * @typedef {number} ShapeType\n */\n\n/**\n * Enum for shape types\n * @readonly\n * @enum {ShapeType}\n */\nexport const SHAPES = {\n  POINT: 1,\n  LINE: 2,\n};\n\n/**\n * Meta Schema\n * @typedef {Obect} Metadata\n * ... Can have any properties.\n */\n\n/**\n * Shape Schema\n * @typedef {Object} Shape\n * @property {any} data\n * @property {ShapeType} type\n */\n\n/**\n * Detection Schema\n * @typedef {Object} Detection\n * @property {Number} frame\n * @property {Array<Number>} box [x_left, y_top, x_right, y_bottom]\n *                               null box means this detection applies to entire frame.\n * @property {Track} track backreference to track that owns it.\n * @property {Metadata} meta metadata for this single detection.\n */\n\n/**\n * Track Schema\n * @typedef {Object} Track\n * @property {String} key a unique key to identify the track\n * @property {Metadata} meta\n * @property {Array<Detection>} detections\n * @property {Number} begin\n * @property {Number} end\n * @property {Boolean} interpolated whether the detections need interpolation\n * @property {String} color html color string\n * @property {Array<Shapes>} shapes\n * @property {TrackState} state\n */\n\n/**\n * Returns the linear interpolation between d0 and d1 at currentFrame.\n * @param {Number} currentFrame\n * @param {Detection} d0\n * @param {Detection} d1\n * @returns {Detection}\n */\nfunction interpolateFrames(currentFrame, d0, d1) {\n  const len = d1.frame - d0.frame;\n  // a + b = 1; interpolate from a to b\n  const b = Math.abs((currentFrame - d0.frame) / len);\n  const a = 1 - b;\n  const box = d0.box.map((_, i) => ((d0.box[i] * a) + (d1.box[i] * b)));\n  const frame = Math.round((d0.frame * a) + (d1.frame * b));\n  return { ...d0, frame, box };\n}\n\n/**\n * @param {Array<Number>} box\n * @param {Number} scale (0, 1]\n * @returns {Array<Number>}\n */\nfunction scaleBox(box, scale) {\n  return box.map(n => (n * scale));\n}\n\n/**\n * Filter some item with meta-properties by key/val.\n * @param {Array<Track>|Array<Detection>} items\n * @param {String} key\n * @param {Array} values\n * @returns {Array<Track>|Array<Detection>}\n */\nfunction filterByMeta(items, key, values) {\n  return items.filter(v => values.indexOf(v.meta[key]) >= 0);\n}\n\n/**\n * Given a rectangle and two unit vectors,\n * get the point in the rectangle at (x, y)\n * @param {Array<Number>} box\n */\nfunction centroid(box, x = 0.5, y = 0.5) {\n  return [\n    Math.round((box[2] * x) + (box[0] * x)),\n    Math.round((box[3] * y) + (box[1] * y)),\n  ];\n}\n\n/**\n * Generate a list of centroids for a given track.\n * @param {Array<Detection>} detections\n * @returns {Array<Shape>}\n */\nfunction generateCentroids(detections) {\n  return detections.map(d => ({\n    type: SHAPES.POINT,\n    data: {\n      point: centroid(d.box),\n      radius: 4, // unitless scalar\n    },\n  }));\n}\n\nfunction findThresholdCrossings(track, threshold, thresholdKey) {\n  const crossings = [];\n  let pair = null;\n  let looking = false; // true = looking for close.  false = looking for open.\n  for (let i = 0; i < track.detections.length; i += 1) {\n    const d = track.detections[i];\n    const val = d.meta[thresholdKey];\n    if (val > threshold && !looking) {\n      looking = true;\n      pair = [d.frame + 0.01];\n    } else if (val < threshold && looking) {\n      looking = false;\n      pair.push(d.frame);\n      crossings.push(pair);\n    } else if (looking && i === (track.detections.length - 1)) {\n      looking = false;\n      pair.push(d.frame);\n      crossings.push(pair);\n    }\n  }\n  return crossings;\n}\n\nfunction seriesForThreshold(tracks, threshold, thresholdKey) {\n  return tracks\n    .map(track => findThresholdCrossings(track, threshold, thresholdKey))\n    .filter(series => series.length > 0);\n}\n\n/**\n * Generate a list of lines between all centroids for a track.\n * @param {Array<Detection>} detections\n * @returns {Array<Shape>}\n */\nfunction generateDetectionLines(detections, x = 0.5, y = 0.5) {\n  return detections.slice(0, detections.length - 1).map((_, i) => ({\n    type: SHAPES.LINE,\n    data: {\n      width: 2,\n      a: centroid(detections[i].box, x, y),\n      b: centroid(detections[i + 1].box, x, y),\n    },\n  }));\n}\n\nexport {\n  centroid,\n  filterByMeta,\n  generateCentroids,\n  generateDetectionLines,\n  interpolateFrames,\n  scaleBox,\n  seriesForThreshold,\n};\n","/**\n * DIVA KPF parser\n *\n * This parser is an example for how to turn a domain-specific annotation schema\n * like DIVA KPF into TDM.  you will likely need to implement a similar converter\n * either on the client or server.\n */\n\nimport yaml from 'js-yaml';\nimport { STATES } from './tdm';\n\nexport const COLOR_BY_TYPES = ['instance', 'activity'];\n\n/* eslint-disable */\nexport const ACTIVITY_COLORS = {\n  'Casing_Facility': '#50EBEC',\n  'Carry_on_Back': 'red',\n  'Enter_Facility': 'orange',\n  'Exit_Facility': 'yellow',\n  'Hand_Interaction': 'green',\n  'Joining_Queue': '#E38AAE',\n  'Object_Transfer': 'lime',\n  'Open_Facility_Door': 'cyan',\n  'People_Talking': 'cyan',\n  'Pick_Up_Object': 'lime',\n  'Purchasing': 'yellow',\n  'Read_Document': 'orange',\n  'Set_Down_Object': 'lightblue',\n  'Sit_Down': 'magenta',\n  'Stand_Up': 'magenta',\n  'Text_On_Phone': '#F75D59',\n  'Unload_Vehicle': 'magenta',\n  'Unknown': 'lime',\n  'Vehicle_Moving': 'yellow',\n  'default': 'yellow',\n  'input': 'red',\n  'output': 'white',\n}; /* eslint-enable */\n\nexport const GEOM_ACTOR_KEY = 'id1';\nexport const TIMERANGE_KEY = 'tsr0';\n\n/**\n * @param {File} inputFile\n * @returns {Promise} stringPromise\n */\nconst readUploadedFileAsText = (inputFile, fallback) => {\n  const temporaryFileReader = new FileReader();\n  return new Promise((resolve, reject) => {\n    temporaryFileReader.onerror = (err) => {\n      console.error(err);\n      temporaryFileReader.abort();\n      reject(new DOMException('Problem parsing input file.'));\n    };\n    temporaryFileReader.onload = () => {\n      resolve(temporaryFileReader.result);\n    };\n    try {\n      temporaryFileReader.readAsText(inputFile);\n    } catch (err) {\n      if (fallback) {\n        resolve(fallback);\n      } else {\n        throw err;\n      }\n    }\n  });\n};\n\n/**\n * KPF Class parses annotations defined in KPF yaml format.\n */\nexport default class KPF {\n  constructor(activities = [], geom = [], types = [], meta = {}) {\n    this.activities = activities;\n    this.geom = geom;\n    this.types = types;\n    this.tracksByActor = {};\n    this.meta = meta;\n    this.postProcess();\n  }\n\n  /**\n   * postProcess:\n   * - convert g0 from string to array, call it bbox\n   * - make sure ts0 is present on detections\n   * - remove meta\n   * - add additional properties:\n   *   + activity.actor[i].detections (time-ordered)\n   *   + activity.actor[i].type\n   *   + activity.name\n   */\n  postProcess() {\n    this.geom = KPF.filterEmpty(this.geom, [GEOM_ACTOR_KEY, 'g0', 'ts0']);\n    this.activities = KPF.filterEmpty(this.activities, ['act2']);\n    this.types = KPF.filterEmpty(this.types, [GEOM_ACTOR_KEY]);\n    const newTypes = {};\n    this.types.forEach((t) => {\n      newTypes[t[GEOM_ACTOR_KEY]] = {\n        id: t.id,\n        type: Object.keys(t.cset3)[0] || 'Unknown',\n      };\n    });\n    this.types = newTypes;\n    this.geom = this.geom.map(g => ({\n      ...g,\n      bbox: g.bbox || g.g0.split(' ').map(f => parseFloat(f)),\n      ts0: g.ts0 || g.frame,\n      [GEOM_ACTOR_KEY]: g[GEOM_ACTOR_KEY] || 0,\n    }));\n    this.geom.forEach((g) => {\n      const key = g[GEOM_ACTOR_KEY];\n      if (key in this.tracksByActor) {\n        this.tracksByActor[key].push(g);\n      } else {\n        this.tracksByActor[key] = [g];\n      }\n    });\n    this.activities = this.activities.map(a => ({\n      ...a,\n      actors: a.actors.map(actor => ({\n        ...actor,\n        timespan: actor.timespan[0][TIMERANGE_KEY],\n        detections: KPF.filterRange(\n          this.tracksByActor[actor[GEOM_ACTOR_KEY]],\n          'ts0',\n          actor.timespan[0][TIMERANGE_KEY][0],\n          actor.timespan[0][TIMERANGE_KEY][1],\n        ),\n        type: this.types[actor[GEOM_ACTOR_KEY]]\n          ? this.types[actor[GEOM_ACTOR_KEY]].type\n          : 'Unknown',\n      })),\n      name: a.act2 ? Object.keys(a.act2)[0] : a.src, // TODO: this is terrible.\n    }));\n  }\n\n  /**\n   * return a list of the tracks\n   * @returns {Array.<track>}\n   */\n  get tracks() {\n    return [].concat(...this.activities.map(activity =>\n      activity.actors.map(actor => ({\n        activity,\n        actor,\n        timespan: actor.timespan,\n        detections: actor.detections,\n        actorColor: actor.randomColor,\n      })))).sort((a, b) => a.detections[0].ts1 - b.detections[0].ts1);\n  }\n\n  /**\n   * Turn KPF into TDM trackx\n   * @param {Object} staticMeta static metadata to assign to all tracks.\n   * @returns {Array<tdm.Track>}\n   */\n  getTDM(staticMeta = {}, basekey = 'track') {\n    return this.tracks.map((t, i) => {\n      const meta = Object.assign({\n        ...this.meta,\n        name: t.activity.name,\n        activity_id: t.activity.id2,\n        type: t.actor.type,\n        id: t.activity.id,\n        actor_id: t.actor[GEOM_ACTOR_KEY],\n        src_status: t.activity.src_status || 'unset',\n      }, staticMeta);\n      const track = {\n        meta,\n        key: `${basekey}${i}`,\n        interpolated: t.detections.length < (t.timespan[1] - t.timespan[0]),\n        color: 'green',\n        state: STATES.ACTIVE,\n        begin: t.timespan[0],\n        end: t.timespan[1],\n      };\n      const detections = t.detections.map((d, idx) => ({\n        frame: d.frame || d.ts0,\n        meta: {\n          src: d.src,\n          occlusion: d.occlusion,\n          confidence: (idx === 0 || (idx === t.detections.length - 1)) ? 0.001 : 1,\n        },\n        box: d.bbox,\n        track,\n      })).sort((a, b) => a.frame - b.frame);\n      track.detections = detections;\n      return track;\n    });\n  }\n\n  /**\n   * Return elements of list that have validKey defined\n   * @param {Array} list\n   * @param {String} validKey\n   */\n  static filterEmpty(list, validKeyList) {\n    return list.filter(l => validKeyList.some(e => e in l));\n  }\n\n  /**\n   * Return elements where number key in range value\n   */\n  static filterRange(list, key, lower, upper) {\n    return list.filter(item => item[key] <= upper && item[key] >= lower);\n  }\n\n  /**\n   * Create KPF object from YAML text strings.\n   * @param {String} activityText\n   * @param {String} geometryText\n   */\n  static fromText(activityText, geometryText, typeText) {\n    const activityJson = yaml.safeLoad(activityText).map(a => ({ ...a.act }));\n    const geometryJson = yaml.safeLoad(geometryText).map(g => ({ ...g.geom }));\n    const typeJson = yaml.safeLoad(typeText).map(t => ({ ...t.types }));\n    return new KPF(activityJson, geometryJson, typeJson);\n  }\n\n  /**\n   * Create KPF from js file handles.\n   * @param {File} activityFile\n   * @param {File} geometryFile\n   */\n  static async fromFiles(activityFile, geometryFile, typeFile) {\n    const promiseList = [\n      readUploadedFileAsText(activityFile),\n      readUploadedFileAsText(geometryFile),\n      readUploadedFileAsText(typeFile, '- {}'),\n    ];\n    const [activityText, geometryText, typeText] = await Promise.all(promiseList);\n    return KPF.fromText(activityText, geometryText, typeText);\n  }\n}\n","<template lang=\"pug\">\ndiv\n  p.title Features:\n  ul.pb-3\n    li click-and-drag to zoom\n    li click elsewhere on the video to dismiss\n    li click a row in the track table to scrub to that time\n    li toggle annotation labels with the switch\n    li change color scheme with the dropdown\n    li upload your own KPF YML files\n  v-layout.pb-3(column)\n    label Activities:\n    input(type=\"file\", accept=\".yml\", ref=\"activities\")\n    label.mt-2 Geometry:\n    input(type=\"file\", accept=\".yml\", ref=\"geometry\")\n    label.mt-2 Types:\n    input(type=\"file\", accept=\".yml\", ref=\"types\")\n  v-btn.ma-0(@click=\"process\", width=\"80px\", color=\"primary\") Process KPF\n</template>\n\n<script>\nimport KPF from '../utils/divakpf.js';\n\nexport default {\n  methods: {\n    async process() {\n      await new Promise(resolve => window.setTimeout(resolve, 100));\n      const activityFiles = this.$refs.activities.files;\n      const geometryFiles = this.$refs.geometry.files;\n      const typeFiles = this.$refs.types.files;\n      if (activityFiles.length && geometryFiles.length) {\n        const annotations = await KPF.fromFiles(activityFiles[0], geometryFiles[0], typeFiles[0]);\n        this.$emit('loaded', annotations.getTDM({\n          origin: 'Import',\n        }, 'itrack'));\n      }\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivaKpfWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DivaKpfWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DivaKpfWidget.vue?vue&type=template&id=109f5baf&lang=pug&\"\nimport script from \"./DivaKpfWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./DivaKpfWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"column\":\"\"}},[_c('v-checkbox',{staticClass:\"ma-0 pa-0\",attrs:{\"hide-details\":\"\",\"input-value\":_vm.allchecked,\"color\":\"secondary\"},on:{\"change\":_vm.toggle}}),_vm._l((_vm.statemap),function(v,k){return _c('v-flex',{key:k},[_c('v-checkbox',{staticClass:\"ma-0 pa-0\",attrs:{\"hide-details\":\"\",\"input-value\":v === _vm.STATES.ACTIVE,\"color\":_vm.colormap[k]},on:{\"change\":function($event){_vm.updateState(k, v)}}})],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nv-layout(column)\n  v-checkbox.ma-0.pa-0(hide-details,\n      :input-value=\"allchecked\"\n      color=\"secondary\",\n      @change=\"toggle\")\n  v-flex(v-for=\"(v, k) in statemap\", :key=\"k\")\n    v-checkbox.ma-0.pa-0(\n        hide-details,\n        :input-value=\"v === STATES.ACTIVE\",\n        :color=\"colormap[k]\",\n        @change=\"updateState(k, v)\")\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\nimport { STATES } from '../utils/tdm';\n\nexport default {\n  data() {\n    return {\n      checked: [],\n      allchecked: true,\n      STATES,\n    };\n  },\n  computed: mapState({\n    statemap: 'statemap',\n    colormap: 'colormap',\n  }),\n  methods: {\n    ...mapMutations(['resetState', 'toggleByMeta']),\n    toggle() {\n      if (this.allchecked) {\n        this.resetState({ newstate: STATES.DISABLED });\n      } else {\n        this.resetState({ newstate: STATES.ACTIVE });\n      }\n      this.allchecked = !this.allchecked;\n    },\n    updateState(value, currentState) {\n      const newState = currentState === STATES.DISABLED\n        ? STATES.ACTIVE\n        : STATES.DISABLED;\n      const sm = this.toggleByMeta({ value, newState });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionWidget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionWidget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectionWidget.vue?vue&type=template&id=ffe94f98&lang=pug&\"\nimport script from \"./SelectionWidget.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectionWidget.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-data-table',{staticClass:\"small-table\",attrs:{\"items\":_vm.tracks,\"headers\":_vm.headers,\"rows-per-page-items\":_vm.rowsPerPage},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [(props.item.state === _vm.STATES.ACTIVE)?_c('tr',{on:{\"click\":function($event){_vm.$emit('click', props.item)}}},[_vm._l((_vm.meta),function(m,v){return _c('td',{key:m},[_vm._v(_vm._s(props.item.meta[v]))])}),_c('td',[_vm._v(\"[\"+_vm._s(props.item.begin)+\", \"+_vm._s(props.item.end)+\"]\")]),_c('td',[_c('v-icon',{style:({ color: props.item.color })},[_vm._v(\"brightness_1\")])],1)],2):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nv-data-table.small-table(:items=\"tracks\", :headers=\"headers\", :rows-per-page-items=\"rowsPerPage\")\n  template(slot=\"items\", slot-scope=\"props\")\n    tr(v-if=\"props.item.state === STATES.ACTIVE\", @click=\"$emit('click', props.item)\")\n      td(v-for=\"m, v in meta\", :key=\"m\") {{ props.item.meta[v] }}\n      td [{{ props.item.begin }}, {{ props.item.end}}]\n      td\n        v-icon(:style=\"{ color: props.item.color }\") brightness_1\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { STATES } from '../utils/tdm';\n\nexport default {\n  props: {\n    meta: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      STATES,\n      rowsPerPage: [15, 25],\n      headers: [].concat(\n        ...Object.keys(this.meta).map(m => ({\n          text: this.meta[m],\n          value: `meta.${m}`,\n          width: '1%',\n        })),\n        ...[{\n          text: 'Range',\n          value: 'begin',\n        },\n        {\n          text: 'Color',\n          value: 'color',\n          width: '1%',\n        }],\n      ),\n    };\n  },\n  computed: mapState({\n    tracks: state => state.tracks.filter(t => t.state === STATES.ACTIVE),\n  }),\n};\n</script>\n\n<style lang=\"stylus\">\n.small-table {\n  th, td {\n    padding: 0 12px !important;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TdmTable.vue?vue&type=template&id=193a2549&lang=pug&\"\nimport script from \"./TdmTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TdmTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TdmTable.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tdmtemporal py-2\"},[_c('v-layout',{ref:\"container\",attrs:{\"row\":\"\"}},[_c('selection-widget',{staticClass:\"shrink mx-2 my-0\"}),_c('div',{staticClass:\"tdmtemporalGraph grow\"},[_c('time-slider',{staticStyle:{\"width\":\"100%\"}}),_c('div',{ref:\"svgcontainer\",staticClass:\"wrapper\",staticStyle:{\"width\":\"100%\"}},[_c('svg',{ref:\"barsvg\",attrs:{\"width\":_vm.width,\"height\":_vm.height},on:{\"mousemove\":function($event){}}},[_vm._l((_vm.groups),function(group){return _c('g',{style:({ transform: (\"translate(0px, \" + (group.top) + \"px)\")})},[_vm._l((group.paths),function(path){return _c('path',{staticClass:\"bar\",attrs:{\"d\":path.d,\"stroke\":path.stroke,\"opacity\":path.opacity}})}),_c('text',{staticClass:\"bar\",attrs:{\"x\":group.text.x,\"y\":group.text.y,\"dy\":group.text.dy,\"stroke\":group.text.stroke}},[_vm._v(_vm._s(group.text.text))])],2)}),_c('path',{attrs:{\"d\":_vm.timeline.d,\"stroke\":_vm.timeline.stroke}})],2)])],1)],1),((typeof _vm.threshold === 'number') && _vm.tracks.length)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-end\":\"\"}},[_c('svg',{attrs:{\"width\":_vm.width,\"height\":_vm.thresholdHeight},on:{\"click\":_vm.handleThreshClick}},[_c('path',{attrs:{\"d\":_vm.timeline.d,\"stroke\":_vm.timeline.stroke}}),_c('g',{style:({ transform: (\"translate(0px, \" + _vm.margin + \"px)\") })},[_c('rect',{attrs:{\"x\":_vm.waterline.x,\"y\":_vm.waterline.y,\"width\":_vm.waterline.width,\"height\":_vm.waterline.height,\"stroke\":_vm.waterline.stroke,\"fill\":_vm.waterline.stroke,\"opacity\":_vm.waterline.opacity}}),_vm._l((_vm.threshPaths),function(path){return _c('path',{staticClass:\"thresh\",attrs:{\"d\":path.d,\"stroke\":path.stroke,\"opacity\":path.opacity}})}),_c('text',{staticClass:\"bar\",attrs:{\"x\":_vm.threshtext.x,\"y\":_vm.threshtext.y,\"dy\":_vm.threshtext.dy,\"stroke\":_vm.threshtext.stroke}},[_vm._v(\"thresh: \"+_vm._s(_vm.threshtext.text))])],2)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{staticClass:\"slider py-1\",attrs:{\"type\":\"range\",\"max\":_vm.duration,\"step\":_vm.step},domProps:{\"value\":_vm.time - _vm.offset},on:{\"input\":_vm.progressChangeInput}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/** This event bus should only be used to synchronize time */\n\nimport Vue from 'vue';\n\nconst TimeBus = new Vue();\n\nexport default TimeBus;\n","<template lang=\"pug\">\ninput.slider.py-1(type=\"range\",\n    :value=\"time - offset\",\n    :max=\"duration\",\n    :step=\"step\",\n    @input=\"progressChangeInput\")\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex';\nimport TimeBus from '../utils/timebus';\n\nexport default {\n  data() {\n    return {\n      time: 0, // in seconds\n    };\n  },\n  mounted() {\n    TimeBus.$on('active', time => (this.time = time));\n    TimeBus.$on('passive', time => (this.time = time));\n  },\n  computed: {\n    ...mapState({\n      duration: 'duration',\n      framerate: 'framerate',\n      offset: 'offset',\n    }),\n    step() {\n      return 1 / this.framerate;\n    },\n  },\n  methods: {\n    progressChangeInput(e) {\n      const value = parseFloat(e.target.value);\n      const fixed = parseFloat(value.toFixed(3));\n      TimeBus.$emit('active', fixed + this.offset);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeSlider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeSlider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeSlider.vue?vue&type=template&id=81af5c36&lang=pug&\"\nimport script from \"./TimeSlider.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeSlider.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as tdm from './tdm';\n\n/**\n * @param {Function} func\n * @param {Number} wait milliseconds\n * @param {Boolean} immediate\n * @param {Number} count if set, increment on\n */\nconst debounce = (func, wait, immediate = false, count = NaN) => {\n  let timeout;\n  let counter = count;\n\n  return () => {\n    const context = this;\n    const args = arguments;\n\n    const callNow = immediate || counter === 0;\n\n    const later = () => {\n      timeout = null;\n      counter = count;\n      if (!callNow) func.apply(context, args);\n    };\n\n    clearTimeout(timeout);\n\n    if (callNow) {\n      counter = count;\n      func.apply(context, args);\n    } else {\n      if (!Number.isNaN(counter)) counter -= 1;\n      timeout = setTimeout(later, wait);\n    }\n  };\n};\n\nfunction valBetween(v, min, max) {\n  return (Math.min(max, Math.max(min, v)));\n}\n\n/**\n * Get the URL parameters\n * source: https://css-tricks.com/snippets/javascript/get-url-variables/\n * @param  {String} url The URL\n * @return {Object}     The URL parameters\n */\nfunction getParams(url) {\n  const params = {};\n  const parser = document.createElement('a');\n  parser.href = url;\n  const query = parser.search.substring(1);\n  const vars = query.split('&');\n  for (let i = 0; i < vars.length; i += 1) {\n    const pair = vars[i].split('=');\n    params[pair[0]] = decodeURIComponent(pair[1]);\n  }\n  return params;\n}\n\nexport {\n  debounce,\n  getParams,\n  tdm,\n  valBetween,\n};\n","<template lang=\"pug\">\n.tdmtemporal.py-2\n  v-layout(row, ref=\"container\")\n    selection-widget.shrink.mx-2.my-0\n    .tdmtemporalGraph.grow\n      time-slider(style=\"width: 100%\")\n      .wrapper(style=\"width: 100%\", ref=\"svgcontainer\")\n        svg(@mousemove=\"\", :width=\"width\", :height=\"height\", ref=\"barsvg\")\n          g(v-for=\"group in groups\", :style=\"{ transform: `translate(0px, ${group.top}px)`}\")\n            path.bar(v-for=\"path in group.paths\" :d=\"path.d\", :stroke=\"path.stroke\", :opacity=\"path.opacity\")\n            text.bar(:x=\"group.text.x\", :y=\"group.text.y\", :dy=\"group.text.dy\", :stroke=\"group.text.stroke\") {{ group.text.text }}\n          path(:d=\"timeline.d\", :stroke=\"timeline.stroke\")\n  v-layout(row, justify-end, v-if=\"(typeof threshold === 'number') && tracks.length\")\n    svg(:width=\"width\", :height=\"thresholdHeight\", @click=\"handleThreshClick\")\n      path(:d=\"timeline.d\", :stroke=\"timeline.stroke\")\n      g(:style=\"{ transform: `translate(0px, ${margin}px)` }\")\n        rect(:x=\"waterline.x\", :y=\"waterline.y\", :width=\"waterline.width\", :height=\"waterline.height\", :stroke=\"waterline.stroke\", :fill=\"waterline.stroke\", :opacity=\"waterline.opacity\")\n        //- path(:d=\"threshline.d\", :stroke=\"threshline.stroke\", :opacity=\"threshline.opacity\")\n        path.thresh(v-for=\"path in threshPaths\", :d=\"path.d\", :stroke=\"path.stroke\", :opacity=\"path.opacity\")\n        text.bar(:x=\"threshtext.x\", :y=\"threshtext.y\", :dy=\"threshtext.dy\", :stroke=\"threshtext.stroke\") thresh: {{ threshtext.text }}\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport * as d3 from 'd3';\nimport TimeSlider from './TimeSlider';\nimport SelectionWidget from './SelectionWidget';\nimport TimeBus from '../utils/timebus';\nimport { valBetween } from '../utils';\nimport { STATES, seriesForThreshold } from '../utils/tdm';\n\nexport default {\n  components: {\n    TimeSlider,\n    SelectionWidget,\n  },\n  props: {\n    thresholdHeight: {\n      type: Number,\n      default: 150,\n    },\n    thresholdKey: {\n      type: String,\n      default: 'confidence',\n    },\n    threshold: {\n      type: Number,\n      default: null,\n    },\n    margin: {\n      type: Number,\n      default: 10,\n    },\n  },\n  data() {\n    return {\n      xbuffer: 2,\n      stroke: 36,\n      width: 100,\n      time: 0,\n      /* set by reactions to watched properties */\n      groups: [],\n      threshPaths: [],\n      height: 100,\n      series: [],\n      timeline: {},\n      waterline: {},\n      threshtext: {},\n      /* range variables */\n      drag: false,\n    };\n  },\n  mounted() {\n    TimeBus.$on('active', time => (this.time = (time - this.offset)));\n    TimeBus.$on('passive', time => (this.time = (time - this.offset)));\n    window.addEventListener('resize', this.handleResize);\n    this.handleResize();\n    const svg = this.$refs.barsvg;\n    svg.addEventListener('mousedown', this.listen);\n    svg.addEventListener('mouseup', this.ignore);\n    svg.addEventListener('mouseleave', this.ignore);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  computed: {\n    ...mapState(['cache', 'colormap', 'statemap', 'offset', 'duration', 'framerate', 'tracks', 'colorBy']),\n  },\n  watch: {\n    colormap() {\n      this.setSeries();\n      this.setThreshPaths();\n      this.setThreshText();\n    },\n    statemap() {\n      this.setGroups();\n      this.setThreshPaths();\n    },\n    time() {\n      this.setTimeline();\n    },\n    series() {\n      this.setGroups();\n      this.setHeight();\n    },\n    width() {\n      this.setHeight();\n      this.setTimeline();\n      this.setWaterline();\n      this.setGroups();\n      this.setThreshPaths();\n      this.setThreshText();\n    },\n    duration() {\n      this.setGroups();\n      this.setThreshPaths();\n      this.setTimeline();\n    },\n    framerate() {\n      this.setGroups();\n      this.setThreshPaths();\n    },\n    threshold() {\n      this.setWaterline();\n      this.setSeries();\n      this.setThreshText();\n    },\n  },\n  methods: {\n    /* Handlers for setting playback range */\n    // listen(e) {\n    //   console.log(e);\n    // },\n    // ignore(e) {\n    //   console.log(e);\n    // },\n    // onmove(e) {\n    //   console.log(e);\n    // },\n    handleResize() {\n      // TODO: this is terrible.\n      this.$nextTick(() => {\n        const cwidth = this.$refs.container.clientWidth;\n        this.width = this.$refs.svgcontainer.clientWidth;\n        if (this.width > cwidth) {\n          // hack to make room for checkboxes.\n          this.width = cwidth - 50;\n        }\n      });\n    },\n    handleThreshClick(event) {\n      const y = d3.scaleLinear()\n        .domain([0, this.thresholdHeight - (2 * this.margin)])\n        .range([1, 0]);\n      this.$emit('update:threshold', parseFloat(valBetween(y(event.offsetY - this.margin), 0, 1).toPrecision(4)));\n    },\n    /* Setters to avoid computed prop perf hit */\n\n    setGroups() {\n      const x = d3\n        .scaleLinear()\n        .domain([0, this.duration * this.framerate])\n        .range([0, this.width]);\n      const lineFunction = d3\n        .line()\n        .defined(d => d)\n        .x(d => x(d))\n        .y(d => 0);\n      this.groups = this.series.map((s, i) => {\n        const liney =\n          this.xbuffer + this.stroke / 2 + (this.stroke + this.xbuffer) * i;\n        const paths = [].concat(...s.data.map(bars => bars.map(bar => ({\n          d: lineFunction(bar),\n          stroke: this.statemap[s.key] === STATES.ACTIVE ? s.color : '#ccc',\n          opacity: 0.4,\n        }))));\n        paths.push({\n          d: lineFunction([0.01, this.duration * this.framerate]),\n          stroke: '#ccc',\n          opacity: 0.2,\n        });\n        return {\n          text: {\n            x: 10,\n            y: 0,\n            dy: '.35em',\n            text: s.key,\n            stroke: '#555',\n          },\n          top: liney,\n          paths,\n        };\n      });\n    },\n    setThreshPaths() {\n      const x = d3.scaleLinear()\n        .domain([0, this.duration * this.framerate])\n        .range([0, this.width]);\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.thresholdHeight - (2 * this.margin), 0]);\n      const lineFunc = d3.line()\n        .x(d => x(d.frame))\n        .y(d => y(d.meta[this.thresholdKey] || NaN));\n      this.threshPaths = this.tracks.map(t => ({\n        d: lineFunc(t.detections),\n        stroke: this.statemap[t.meta[this.colorBy]] === STATES.ACTIVE ? t.color : '#ccc',\n        opacity: 0.5,\n      }));\n    },\n    setHeight() {\n      this.height = (this.stroke + this.xbuffer) * this.series.length;\n    },\n    setSeries() {\n      this.series = Object.keys(this.colormap).map((sm) => {\n        let data;\n        if (this.threshold) {\n          data = seriesForThreshold(this.cache[sm], this.threshold, this.thresholdKey);\n        } else {\n          data = this.cache[sm].map(track => [[track.begin + 0.01, track.end]]);\n        }\n        return {\n          key: sm,\n          data,\n          color: this.colormap[sm],\n        };\n      });\n    },\n    setTimeline() {\n      const x = d3\n        .scaleLinear()\n        .domain([0, this.duration])\n        .range([0, this.width]);\n      const lineFunc = d3\n        .line()\n        .x(d => x(d[0]))\n        .y(d => d[1]);\n      this.timeline = {\n        d: lineFunc([[this.time, 0], [this.time, this.height + 100]]),\n        stroke: '#000',\n      };\n    },\n    setWaterline() {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.thresholdHeight - (2 * this.margin), 0]);\n      this.waterline = {\n        x: 0,\n        y: y(this.threshold),\n        width: this.width,\n        height: y(1 - this.threshold),\n        stroke: '#fdbf6f',\n        opacity: 0.3,\n      };\n    },\n    setThreshText() {\n      this.threshtext = {\n        x: 10,\n        y: 0,\n        dy: '.35em',\n        text: String(this.threshold),\n        stroke: '#FFF',\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"stylus\" scoped>\n.tdmtemporalGraph {\n  box-sizing: border-box;\n\n  svg {\n    position: relative;\n  }\n}\n\npath.bar {\n  fill: none;\n  stroke-width: 32px;\n}\n\npath.thresh {\n  fill: none;\n  stroke-width: 2px;\n}\n\ntext.bar {\n  user-select: none;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTemporal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TdmTemporal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TdmTemporal.vue?vue&type=template&id=206935fb&scoped=true&lang=pug&\"\nimport script from \"./TdmTemporal.vue?vue&type=script&lang=js&\"\nexport * from \"./TdmTemporal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TdmTemporal.vue?vue&type=style&index=0&id=206935fb&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"206935fb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-region\"},[_c('v-layout',{staticClass:\"relative\",attrs:{\"column\":\"\",\"align-center\":\"\"}},[_c('canvas',{ref:\"staticcanvas\",staticClass:\"static-canvas\"}),_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"}),_c('canvas',{ref:\"pipcanvas\",staticClass:\"pip-canvas\"}),_c('canvas',{ref:\"pipstatic\",staticClass:\"pip-static-canvas\"}),_c('video',{ref:\"video\",attrs:{\"muted\":\"\",\"width\":_vm.width,\"height\":(_vm.width / _vm.videoWidth) * _vm.videoHeight},domProps:{\"muted\":true},on:{\"canplay\":_vm.canPlay}},[_c('source',{attrs:{\"src\":_vm.url},on:{\"error\":function($event){_vm.$emit('error', $event)}}}),_c('h1',[_vm._v(\"Could not load video.\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const SORT_RESOLUTION = 50;\nexport const CONTRAST_COLORS = [\n  '#6A5ACD', // \"slateblue\",\n  '#00FF00', // \"lime\",\n  '#FF00FF', // \"fuchsia\",\n  '#FFFF00', // \"yellow\",\n  '#FF0000', // \"red\",\n  '#00FFFF', // \"aqua\",\n  '#FF69B4', // \"hotpink\",\n];\nexport const SEQUENCE_COLORS = [\n  '#543005',\n  '#8c510a',\n  '#bf812d',\n  '#dfc27d',\n  '#f6e8c3',\n  '#c7eae5',\n  '#80cdc1',\n  '#35978f',\n  '#01665e',\n  '#003c30',\n];\nexport const DISABLED_COLOR = '#a0a0a0';\n","<script>\nimport { mapState, mapMutations } from 'vuex';\nimport { scaleBox } from '../utils/tdm';\nimport { STATES, SHAPES, centroid } from '../utils/tdm';\nimport { DISABLED_COLOR } from '../constants';\nimport { debounce } from '../utils';\nimport TimeBus from '../utils/timebus';\n\nexport default {\n  props: {\n    width: {\n      /* Width of the canvas in pixels */\n      type: Number,\n      required: true,\n    },\n    zoom: {\n      /*\n       * Range: [0, 100]\n       * 0 === no zoom\n       */\n      type: Number,\n      default: 0,\n    },\n    labelFormat: {\n      type: Array,\n      default: () => ['label'],\n    },\n    defaultColor: {\n      type: String,\n      default: 'yellow',\n    },\n    pipsize: {\n      /* A number in (0, 1] of the width */\n      type: Number,\n      default: 0.4,\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    lineWidth: {\n      type: Number,\n      default: 4,\n    },\n  },\n  data() {\n    return {\n      ctx: null,\n      pipctx: null,\n      staticctx: null,\n      pipstaticctx: null,\n      mouse: {},\n      video: null,\n      animationId: null,\n      debouncedRedraw: () => {},\n      debounceTime: () => {},\n    };\n  },\n  computed: {\n    ...mapState([\n      'url', 'framerate', 'duration', 'offset',\n      'playbackRate', 'labels', 'shapes', 'playing', 'tracks',\n    ]),\n    ...mapState({\n      videoWidth: 'width',\n      videoHeight: 'height',\n    }),\n  },\n  watch: {\n    playbackRate(newval) {\n      this.$refs.video.playbackRate = newval;\n    },\n    tracks() {\n      this.updateActive(this.$refs.video.currentTime * this.framerate);\n      if (this.staticctx) {\n        this.updateStatic();\n      }\n    },\n    width() {\n      if (this.ctx && this.pipctx && this.staticctx && this.pipstaticctx) {\n        this.setupCanvas(this.ctx);\n        this.setupCanvas(this.staticctx);\n        this.setupPip(this.pipctx);\n        this.setupPip(this.pipstaticctx);\n        this.updateStatic();\n        this.resetMouse();\n        if (!this.url) {\n          this.drawInfo(this.ctx, 'Source Unavailable');\n        }\n      }\n    },\n    playing(playing) {\n      const v = this.$refs.video;\n      if (playing) {\n        v.play();\n      } else {\n        v.pause();\n      }\n    },\n    shapes(newval) {\n      this.updateStatic();\n    },\n    url(newval) {\n      this.$refs.video.load();\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener('mouseup', this.mouseup, false);\n    TimeBus.$off('active', this.updateTime);\n  },\n  mounted() {\n    this.stills = [];\n    this.ctx = this.$refs.canvas.getContext('2d');\n    this.pipctx = this.$refs.pipcanvas.getContext('2d');\n    this.staticctx = this.$refs.staticcanvas.getContext('2d');\n    this.pipstaticctx = this.$refs.pipstatic.getContext('2d');\n    this.debouncedRedraw = debounce(() => {\n      this.clearCanvas(this.pipstaticctx);\n      this.drawPiP(this.pipstaticctx, this.tracks, this.drawStatic);\n    }, 100);\n    const func = () => TimeBus.$emit('passive', this.$refs.video.currentTime);\n    this.debounceTime = debounce(func, 8000, false, 1);\n    TimeBus.$on('active', this.updateTime);\n    this.video = this.$refs.video;\n    // The following may be Zero-width if parent has not yet computed the width.\n    this.setupCanvas(this.ctx);\n    this.setupCanvas(this.staticctx);\n    this.setupPip(this.pipctx);\n    this.setupPip(this.pipstaticctx);\n    this.resetMouse();\n    this.$refs.canvas.addEventListener('mousedown', this.mousedown, false);\n    window.addEventListener('mouseup', this.mouseup, false);\n    this.$refs.canvas.addEventListener('mousemove', this.mousemove, false);\n    this.$refs.canvas.addEventListener('mousewheel', this.scrollmove);\n    this.updateStatic();\n    this.drawInfo(this.ctx, 'Source Unavailable.');\n  },\n  methods: {\n    ...mapMutations(['setPlaying']),\n    updateTime(time) {\n      this.$refs.video.currentTime = time;\n      this.updateActive(time * this.framerate);\n    },\n\n    /**\n     * Update the current list of on screen frames,\n     * either because time has changed or because the available tracks have changed.\n     * @param {Number} frametime\n     */\n    updateActive(frametime) {\n      const activeKeyFrames = this.$store.getters.activeKeyFrames(frametime);\n      const activeInterpolated = this.$store.getters.activeContinuousFrames(frametime);\n      this.stills = activeInterpolated.concat(activeKeyFrames);\n    },\n\n    /**\n     * If frames, width, etc. changes, redraw the static canvas.\n     */\n    updateStatic() {\n      this.clearCanvas(this.staticctx);\n      this.drawStatic(this.staticctx, this.tracks, 0, 0, this.videoWidth);\n      this.debouncedRedraw();\n    },\n\n    loop() {\n      const $video = this.video;\n      const offset = this.offset;\n      const duration = this.duration;\n      const frametime = $video.currentTime * this.framerate;\n      const frameoffset = offset * this.framerate;\n      if (frametime < frameoffset) {\n        $video.currentTime = offset;\n      }\n      if (!$video.paused && !$video.ended) {\n        this.debounceTime();\n        this.updateActive(frametime);\n      } else if ($video.ended || ($video.currentTime > (offset + duration))) {\n        this.setPlaying({ playing: false });\n        TimeBus.$emit('active', offset);\n      }\n      this.clearCanvas(this.ctx);\n      this.clearCanvas(this.pipctx);\n      if (this.loading) {\n        this.drawInfo(this.ctx, 'LOADING...');\n      } else {\n        this.drawStills(this.ctx, this.stills, 0, 0, this.videoWidth);\n        this.drawStamp(frametime);\n        this.drawMouse();\n        this.drawPiP(this.pipctx, this.stills, this.drawPiPDynamic);\n      }\n      window.requestAnimationFrame(this.loop);\n    },\n\n    /* DRAW methods and canvas operations */\n\n    setupCanvas(context) {\n      const ctx = context;\n      const scale = this.width / this.videoWidth;\n      const canvasHeight = scale * this.videoHeight;\n      ctx.canvas.width = this.width;\n      ctx.canvas.height = canvasHeight;\n    },\n\n    setupPip(context) {\n      const ctx = context;\n      const cvs = ctx.canvas;\n      ctx.canvas.width = this.width * this.pipsize;\n      ctx.canvas.height = this.width * this.pipsize;\n      cvs.style.paddingTop = 150;\n      cvs.style.paddingLeft = 20;\n    },\n\n    clearCanvas(ctx) {\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    },\n\n    /**\n     * drawLoading just draws a loading canvas\n     */\n    drawInfo(context, text) {\n      const ctx = context;\n      ctx.fillStyle = 'black';\n      ctx.globalAlpha = 0.8;\n      ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.globalAlpha = 1.0;\n      ctx.fillStyle = 'white';\n      ctx.font = '50px mono';\n      const tw = ctx.measureText(text).width;\n      ctx.fillText(text, (ctx.canvas.width / 2) - (tw / 2), (ctx.canvas.height / 2) - 25);\n    },\n\n    /**\n     * takes x, y in screen coordinates.\n     */\n    drawDot(context, x, y, radius, color, enabled) {\n      const ctx = context;\n      let activityColor;\n      if (enabled) {\n        ctx.lineWidth = 2;\n        ctx.globalAlpha = 0.5;\n        activityColor = color;\n      } else {\n        ctx.lineWidth = 1;\n        ctx.globalAlpha = 0.2;\n        activityColor = DISABLED_COLOR;\n        radius = 1;\n      }\n      ctx.strokeStyle = activityColor;\n      ctx.fillStyle = activityColor;\n      ctx.beginPath();\n      ctx.arc(x, y, radius, 0, 2 * Math.PI);\n      ctx.stroke();\n      ctx.fill();\n      ctx.globalAlpha = 1.0;\n    },\n\n    /**\n     * takes a, b, in screen coordinates\n     */\n    drawLine(context, a, b, width, color, enabled) {\n      const ctx = context;\n      let activityColor;\n      if (enabled) {\n        ctx.lineWidth = 2;\n        ctx.globalAlpha = 0.6;\n        activityColor = color;\n      } else {\n        ctx.lineWidth = 1;\n        ctx.globalAlpha = 0.2;\n        activityColor = DISABLED_COLOR;\n      }\n      ctx.strokeStyle = activityColor;\n      ctx.beginPath();\n      ctx.moveTo(a[0], a[1]);\n      ctx.lineTo(b[0], b[1]);\n      ctx.stroke();\n      ctx.globalAlpha = 1.0;\n    },\n\n    /**\n     * takes x, y, width in real coords\n     * draws them into given canvas\n     */\n    drawStatic(context, tracks, x, y, width) {\n      if (!this.shapes) {\n        return;\n      }\n      const ctx = context;\n      const scale = ctx.canvas.width / width;\n      tracks.forEach((t) => {\n        if (t.state !== STATES.HIDDEN && t.shapes) {\n          t.shapes.forEach((s, i) => {\n            const scalex = scale * x;\n            const scaley = scale * y;\n            switch (s.type) {\n              case SHAPES.POINT:\n                const p = scaleBox(s.data.point, scale);\n                this.drawDot(\n                  ctx,\n                  p[0] - scalex,\n                  p[1] - scaley,\n                  s.data.radius, t.color, t.state === STATES.ACTIVE,\n                );\n                break;\n              case SHAPES.LINE:\n                const a = scaleBox(s.data.a, scale);\n                const b = scaleBox(s.data.b, scale);\n                this.drawLine(\n                  ctx,\n                  [a[0] - scalex, a[1] - scaley],\n                  [b[0] - scalex, b[1] - scaley],\n                  s.data.width, t.color, t.state === STATES.ACTIVE,\n                );\n                break;\n            }\n          });\n        }\n      });\n    },\n\n    /**\n     * takes x, y, width in real video coordinates\n     * and draws them into the given canvas.\n     */\n    drawStills(context, boxes, x, y, width) {\n      const ctx = context;\n      const scale = ctx.canvas.width / width;\n      boxes.forEach((box) => {\n        if (box.box && box.track.state !== STATES.HIDDEN) {\n          const b = scaleBox(box.box, scale);\n          ctx.beginPath();\n          ctx.lineWidth = (box.track.state === STATES.ACTIVE)\n            ? this.lineWidth\n            : 1;\n          const activityColor = (box.track.state === STATES.ACTIVE)\n            ? box.track.color || this.defaultColor\n            : DISABLED_COLOR;\n          ctx.strokeStyle = activityColor;\n          ctx.fillStyle = activityColor;\n          const scalex = scale * x;\n          const scaley = scale * y;\n          ctx.rect(b[0] - scalex, b[1] - scaley, b[2] - b[0], b[3] - b[1]);\n          ctx.stroke();\n          if (this.shapes) {\n            const c = centroid(b);\n            this.drawDot(ctx, c[0] - scalex, c[1] - scaley, 3, box.track.color, box.track.state === STATES.ACTIVE);\n          }\n          if (this.labels && box.track.state === STATES.ACTIVE) {\n            const values = this.labelFormat.map(l => box.track.meta[l]);\n            const text = values.join(':');\n            ctx.font = '14px mono';\n            const textWidth = ctx.measureText(text).width;\n            ctx.fillRect(b[0] - 2 - scalex, b[1] - 12 - scaley, textWidth + 4, 14);\n            ctx.fillStyle = 'black';\n            ctx.fillText(text, b[0] - scalex, b[1] - scaley);\n          }\n        }\n      });\n    },\n\n    drawStamp(frame) {\n      const ctx = this.ctx;\n      ctx.fillStyle = 'black';\n      ctx.font = '14px mono';\n      const frameText = `FRAME ${Math.floor(frame).toString()}`;\n      const frameTextWidth = ctx.measureText(frameText).width;\n      ctx.globalAlpha = 0.6;\n      ctx.fillRect(0, 0, frameTextWidth + 8, 24);\n      ctx.globalAlpha = 1.0;\n      ctx.fillStyle = 'white';\n      ctx.fillText(frameText, 4, 18);\n    },\n\n    /**\n     * Called every frame\n     */\n    drawPiPDynamic(context, stills, realX, realY, realWidth) {\n      const ctx = context;\n      const canvas = ctx.canvas;\n      const pipWidth = this.pipsize * this.width;\n      ctx.imageSmoothingEnabled = false;\n      ctx.drawImage(\n        this.$refs.video,\n        realX, realY, realWidth, realWidth,\n        0, 0, ctx.canvas.width, ctx.canvas.height,\n      );\n      ctx.beginPath();\n      ctx.lineWidth = '10';\n      ctx.strokeStyle = 'white';\n      ctx.rect(0, 0, pipWidth, pipWidth);\n      ctx.stroke();\n      this.drawStills(ctx, this.stills, realX, realY, realWidth);\n    },\n\n    drawPiP(context, drawables, drawfn) {\n      const ctx = context;\n      const canvas = ctx.canvas;\n      if (this.mouse.width) {\n        const width = this.mouse.width;\n        const mainScale = this.width / this.videoWidth;\n        const realWidth = width / mainScale;\n        const realX = this.mouse.x / mainScale;\n        const realY = this.mouse.y / mainScale;\n        if (((realX + realWidth) / this.videoWidth) > 0.5) {\n          canvas.style.left = '20px';\n          canvas.style.right = 'initial';\n        } else {\n          canvas.style.right = '20px';\n          canvas.style.left = 'initial';\n        }\n        drawfn(ctx, drawables, realX, realY, realWidth);\n        canvas.style.zIndex = 101;\n      } else {\n        canvas.style.zIndex = -1;\n      }\n    },\n\n    drawMouse() {\n      this.ctx.globalAlpha = 0.3;\n      this.ctx.fillStyle = 'yellow';\n      this.ctx.fillRect(\n        this.mouse.x,\n        this.mouse.y,\n        this.mouse.width,\n        this.mouse.height,\n      );\n      this.ctx.globalAlpha = 1.0;\n    },\n\n    /* UI CONTROL methods */\n\n    canPlay() {\n      if (this.playing) {\n        this.$refs.video.play();\n      }\n      if (!this.animationId) {\n        this.animationId = window.requestAnimationFrame(this.loop);\n      }\n      this.$emit('init');\n    },\n\n    /* Mouse PiP selector */\n\n    resetMouse() {\n      this.mouse = {\n        x: 0, y: 0, width: 0, height: 0, drag: false,\n      };\n      this.debouncedRedraw();\n    },\n    mousedown(e) {\n      this.resetMouse();\n      this.mouse.x = e.layerX;\n      this.mouse.oldx = e.layerX;\n      this.mouse.y = e.layerY;\n      this.mouse.oldy = e.layerY;\n      this.mouse.drag = true;\n    },\n    mouseup() {\n      this.mouse.drag = false;\n    },\n    mousemove(e) {\n      if (this.mouse.drag) {\n        this.mouse.width = e.layerX - this.mouse.oldx;\n        this.mouse.height = this.mouse.width;\n        this.debouncedRedraw();\n      }\n    },\n  },\n};\n</script>\n\n<template lang=\"pug\">\n.video-region\n  v-layout.relative(column, align-center)\n    canvas.static-canvas(ref=\"staticcanvas\")\n    canvas.canvas(ref=\"canvas\")\n    canvas.pip-canvas(ref=\"pipcanvas\")\n    canvas.pip-static-canvas(ref=\"pipstatic\")\n    video(\n        ref=\"video\",\n        muted,\n        :width=\"width\",\n        :height=\"(width / videoWidth) * videoHeight\",\n        @canplay=\"canPlay\")\n      source(:src=\"url\",\n          @error=\"$emit('error', $event)\")\n      h1 Could not load video.\n</template>\n\n<style lang=\"stylus\" scoped>\n.relative {\n  position: relative;\n}\n\n.pip-canvas, .pip-static-canvas {\n  bottom: 20px;\n}\n\ncanvas {\n  position: absolute;\n  z-index: 5;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoRegion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoRegion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoRegion.vue?vue&type=template&id=55125edc&scoped=true&lang=pug&\"\nimport script from \"./VideoRegion.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoRegion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoRegion.vue?vue&type=style&index=0&id=55125edc&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55125edc\",\n  null\n  \n)\n\nexport default component.exports","import Vuetify from 'vuetify';\nimport VueAsyncComputed from 'vue-async-computed';\n\nimport * as components from './components';\nimport * as utils from './utils';\n\nexport default function install(Vue) {\n  Vue.use(Vuetify);\n  Vue.use(VueAsyncComputed);\n}\n\nexport {\n  components,\n  utils,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"annotation-view\",attrs:{\"dark\":\"\"}},[_c('v-flex',{attrs:{\"row\":\"\",\"shrink\":\"\"}},[_c('v-alert',{attrs:{\"value\":_vm.loading,\"type\":\"warning\"}},[_vm._v(\"Loading...\")]),_c('v-alert',{attrs:{\"value\":_vm.err,\"type\":\"error\"}},[_vm._v(_vm._s(_vm.err))])],1),_c('tdm-app',{attrs:{\"autoplay\":false,\"loading\":_vm.loading,\"label-format\":_vm.labelFormat,\"meta\":_vm.meta}},[_c('v-card',{attrs:{\"slot\":\"subvideowidget\",\"dark\":\"\",\"tile\":\"\"},slot:\"subvideowidget\"},[_c('tdm-temporal',{staticClass:\"mx-2\",attrs:{\"threshold\":_vm.threshold},on:{\"update:threshold\":function($event){_vm.threshold=$event}}})],1),_c('v-card',{staticClass:\"my-2 pa-3\",attrs:{\"slot\":\"widget\"},slot:\"widget\"},[_c('h3',{staticClass:\"headline\"},[_vm._v(\"Upload your own KPF\")]),_c('diva-kpf-widget',{on:{\"loaded\":function($event){_vm.addTracks({ tracks: $event, key: _vm.colorBy})}}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"track-app\"},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',{ref:\"container\",attrs:{\"row\":\"\",\"wrap\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{staticClass:\"mb-2\"},[_c('v-layout',{staticClass:\"mb-2\",attrs:{\"column\":\"\",\"align-center\":\"\"}},[_c('v-flex',{style:({ 'width': _vm.width + 'px'}),attrs:{\"shrink\":\"\"}},[_vm._t(\"title\"),_c('video-region',{ref:\"region\",attrs:{\"width\":_vm.width,\"label-format\":_vm.labelFormat,\"line-width\":3,\"loading\":_vm.loading || _vm.loadingInternal},on:{\"init\":function($event){_vm.$emit('init')}}}),_c('video-controls',{attrs:{\"color-by-options\":_vm.meta},on:{\"skip\":function($event){_vm.$refs.region.skip($event)}}}),_vm._t(\"subvideowidget\")],2)],1)],1),_c('v-flex',{style:({ 'width': _vm.twoColumn ? _vm.sidebarWidth + 'px' : null })},[_c('v-card',{staticClass:\"mb-2\"},[_c('tdm-table',{attrs:{\"meta\":_vm.meta},on:{\"click\":_vm.handleTrackSelect}})],1),_vm._t(\"widget\")],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{staticClass:\"video-controls\",attrs:{\"shift\":\"\",\"dense\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"align-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"shrink\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.skip(false)}}},[_c('v-icon',[_vm._v(\"skip_previous\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.setPlaying({ playing: !_vm.localPlaying })}}},[_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.localPlaying),expression:\"localPlaying\"}]},[_vm._v(\"pause\")]),_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.localPlaying),expression:\"!localPlaying\"}]},[_vm._v(\"play_arrow\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.skip(true)}}},[_c('v-icon',[_vm._v(\"skip_next\")])],1)],1),_c('v-flex',{staticClass:\"shrink\"},[_c('v-select',{staticClass:\"px-2\",attrs:{\"items\":_vm.playbackRateOptions,\"value\":_vm.localPlaybackRate,\"solo\":\"\"},on:{\"change\":function($event){_vm.setPlaybackRate({ playbackRate: $event })}},scopedSlots:_vm._u([{key:\"item\",fn:function(props){return [_c('p',[_vm._v(_vm._s(((props.item) + \"x Speed\")))])]}},{key:\"selection\",fn:function(props){return [_c('span',[_vm._v(_vm._s(((props.item) + \"x Speed\")))])]}}])})],1),_c('v-spacer'),_c('v-flex',{staticClass:\"shrink\"},[_c('v-switch',{staticClass:\"px-2 flat\",attrs:{\"label\":\"labels\",\"hide-details\":\"\",\"input-value\":_vm.localShowLabels},on:{\"change\":function($event){_vm.setShowLabels({ labels: $event })}}})],1),_c('v-flex',{staticClass:\"shrink\"},[_c('v-switch',{staticClass:\"px-2 flat\",attrs:{\"label\":\"shapes\",\"hide-details\":\"\",\"input-value\":_vm.localShowShapes},on:{\"change\":function($event){_vm.setShowShapes({ shapes: $event })}}})],1),_c('v-flex',{staticClass:\"shrink\"},[_c('v-select',{staticClass:\"px-2\",attrs:{\"items\":Object.keys(_vm.colorByOptions).map(function (c) { return _vm.colorByOptions[c]; }),\"solo\":\"\",\"value\":_vm.colorByOptions[_vm.localColorBy]},on:{\"change\":_vm.updateColorBy}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\nv-toolbar.video-controls(shift, dense)\n  v-layout(row, align-center, wrap)\n    v-flex(shrink)\n      v-btn(icon, @click=\"skip(false)\")\n        v-icon skip_previous\n      v-btn(icon, @click=\"setPlaying({ playing: !localPlaying })\")\n        v-icon(v-show=\"localPlaying\") pause\n        v-icon(v-show=\"!localPlaying\") play_arrow\n      v-btn(icon, @click=\"skip(true)\")\n        v-icon skip_next\n      //- span.px-1 {{ toTimeStamp(time) }} / {{ toTimeStamp(localOffset + localDuration) }}\n    v-flex.shrink\n      v-select.px-2(\n          @change=\"setPlaybackRate({ playbackRate: $event })\",\n          :items=\"playbackRateOptions\",\n          :value=\"localPlaybackRate\",\n          solo)\n        template(slot=\"item\", slot-scope=\"props\")\n          p {{ `${props.item}x Speed` }}\n        template(slot=\"selection\", slot-scope=\"props\")\n          span {{ `${props.item}x Speed`}}\n    v-spacer\n    v-flex.shrink\n      v-switch.px-2.flat(\n          label=\"labels\",\n          hide-details,\n          :input-value=\"localShowLabels\",\n          @change=\"setShowLabels({ labels: $event })\")\n    v-flex.shrink\n      v-switch.px-2.flat(\n          label=\"shapes\",\n          hide-details,\n          :input-value=\"localShowShapes\",\n          @change=\"setShowShapes({ shapes: $event })\")\n    v-flex.shrink\n      v-select.px-2(\n          @change=\"updateColorBy\",\n          :items=\"Object.keys(colorByOptions).map(c => colorByOptions[c])\",\n          solo,\n          :value=\"colorByOptions[localColorBy]\")\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex';\nimport TimeBus from '../utils/timebus';\n\nexport default {\n  props: {\n    colorByOptions: {\n      type: Object,\n      required: true,\n    },\n    playbackRateOptions: {\n      type: Array,\n      default: () => [0.0625, 0.2, 0.5, 1, 2, 5],\n    },\n    withslider: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {\n      scrubbing: false,\n      time: 0, // in seconds\n\n      // Performance hacks,\n      localPlaybackRate: 1,\n      localColorBy: '',\n      localDuration: 0,\n      localOffset: 0,\n      localShowLabels: false,\n      localShowShapes: false,\n      localPlaying: false,\n    };\n  },\n  mounted() {\n    // read from the passive clock to keep the scrubber up to date.\n    TimeBus.$on('passive', time => (this.time = time));\n    this.$store.watch((store) => {\n      this.setFromStore(store);\n    });\n  },\n  methods: {\n    ...mapMutations([\n      'setPlaying',\n      'setPlaybackRate',\n      'setShowLabels',\n      'setShowShapes',\n    ]),\n    ...mapActions([\n      'groupByMeta',\n    ]),\n    setFromStore(store) {\n      this.localPlaybackRate = store.playbackRate;\n      this.localColorBy = store.colorBy;\n      this.localDuration = store.duration;\n      this.localOffset = store.offset;\n      this.localShowLabels = store.labels;\n      this.localShowShapes = store.shapes;\n      this.localPlaying = store.playing;\n    },\n    pad(num) {\n      return num < 10 ? `0${num}` : num;\n    },\n    toTimeStamp(seconds) {\n      const min = Math.floor(seconds / 60);\n      const sec = Math.floor(seconds % 60);\n      return `${this.pad(min)}:${this.pad(sec)}`;\n    },\n    updateColorBy(event) {\n      this.groupByMeta({\n        key: Object.keys(this.colorByOptions).find(c => this.colorByOptions[c] === event),\n      });\n    },\n    skip(direction) {\n      if (direction) {\n        TimeBus.$emit('active', this.time + 5);\n      } else {\n        TimeBus.$emit('active', this.time > 5 ? this.time - 5 : 0);\n      }\n    },\n  },\n};\n</script>\n\n<style lang='stylus'>\n.video-controls {\n  .v-input {\n    padding-top: 0;\n  }\n\n  .v-input--switch {\n    padding-top: 0;\n  }\n\n  .v-input.v-text-field--solo .v-input__control {\n    min-height: 1px;\n    width: 200px;\n  }\n\n  .v-input__slot {\n    margin: 0;\n  }\n}\n\n.video-controls .v-toolbar__content {\n  padding: 0 !important;\n  height: inherit !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoControls.vue?vue&type=template&id=3763a1c4&lang=pug&\"\nimport script from \"./VideoControls.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoControls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VideoControls.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\n.track-app\n  v-container(fluid)\n    v-layout(row, wrap, justify-center, ref=\"container\")\n      v-flex.mb-2\n        v-layout.mb-2(column, align-center)\n          v-flex(shrink, :style=\"{ 'width': width + 'px'}\")\n            slot(name=\"title\")\n            video-region(\n                ref=\"region\",\n                :width=\"width\",\n                :label-format=\"labelFormat\",\n                :line-width=\"3\",\n                :loading=\"loading || loadingInternal\",\n                @init=\"$emit('init')\")\n            video-controls(\n                @skip=\"$refs.region.skip($event)\",\n                :color-by-options=\"meta\")\n            slot(name=\"subvideowidget\")\n      v-flex(:style=\"{ 'width': twoColumn ? sidebarWidth + 'px' : null }\")\n        v-card.mb-2\n          tdm-table(:meta=\"meta\", @click=\"handleTrackSelect\")\n        slot(name=\"widget\")\n</template>\n\n<script>\nimport VideoRegion from '../components/VideoRegion.vue';\nimport VideoControls from '../components/VideoControls.vue';\nimport TdmTable from '../components/TdmTable.vue';\nimport TdmTemporal from '../components/TdmTemporal.vue';\nimport { getParams } from '../utils';\nimport { mapState, mapMutations } from 'vuex';\n\nexport default {\n  components: {\n    TdmTable,\n    VideoControls,\n    VideoRegion,\n  },\n  props: {\n    autoplay: {\n      type: Boolean,\n      default: true,\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    labelFormat: {\n      type: Array,\n      default: () => [],\n    },\n    colorBy: {\n      type: String,\n      default: '',\n    },\n    meta: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      width: 0,\n      loadingInternal: false,\n      twoColumn: true,\n      sidebarWidth: 600,\n    };\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.resize);\n  },\n  mounted() {\n    this.resize();\n    window.addEventListener('resize', this.resize);\n    /* Get parameters from query string */\n    const params = getParams(window.location.hash.substring(1));\n    if ('colorBy' in params) {\n      this.colorByMeta({ key: params.colorBy });\n    }\n    if ('select' in params) {\n      this.setPreselect({ preselect: params.select });\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'colorByMeta',\n      'setPreselect',\n    ]),\n    handleTrackSelect(track) {\n      // Hack to force activeTime to a different unique value.\n      // const newtime = (track.begin / this.framerate) + Math.random() / 100;\n      // this;\n      console.log(track);\n    },\n    resize() {\n      // TODO: something better than this.\n      const minWidth = 900;\n      const tw = this.sidebarWidth;\n      const cw = this.$refs.container.clientWidth;\n      if (tw + minWidth < cw) {\n        this.width = cw - tw - 30;\n        this.twoColumn = true;\n      } else {\n        this.width = cw;\n        this.twoColumn = false;\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoColumn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwoColumn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TwoColumn.vue?vue&type=template&id=fa075736&lang=pug&\"\nimport script from \"./TwoColumn.vue?vue&type=script&lang=js&\"\nexport * from \"./TwoColumn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template lang=\"pug\">\nv-app.annotation-view(dark)\n  v-flex(row, shrink)\n    v-alert(:value=\"loading\", type=\"warning\") Loading...\n    v-alert(:value=\"err\", type=\"error\") {{ err }}\n  tdm-app(\n      :autoplay=\"false\",\n      :loading=\"loading\",\n      :label-format=\"labelFormat\",\n      :meta=\"meta\")\n    v-card(dark, slot=\"subvideowidget\", tile)\n      tdm-temporal.mx-2(:threshold.sync=\"threshold\")\n    v-card.my-2.pa-3(slot=\"widget\")\n      h3.headline Upload your own KPF\n      diva-kpf-widget(@loaded=\"addTracks({ tracks: $event, key: colorBy})\")\n</template>\n\n<script>\nimport axios from 'axios';\nimport { mapState, mapMutations, mapActions } from 'vuex';\n\nimport KPF from '@/utils/divakpf.js';\nimport { generateDetectionLines } from '@/utils/tdm.js';\nimport { DivaKpfWidget, SelectionWidget, TdmTemporal } from '@/components';\nimport TdmApp from '@/layouts/TwoColumn';\n\nexport default {\n  components: {\n    TdmApp,\n    TdmTemporal,\n    DivaKpfWidget,\n    SelectionWidget,\n  },\n  data() {\n    return {\n      loading: false,\n      initialColorBy: 'name',\n      labelFormat: ['name', 'actor_id'],\n      autocomplete: null,\n      err: '',\n      threshold: 0.8,\n      meta: {\n        name: 'Activity Type',\n        type: 'Actor Type',\n        actor_id: 'Actor Id',\n        origin: 'Origin',\n      },\n      video: {\n        url: `${process.env.BASE_URL}data/pilotsmall.mp4`,\n        width: 1920,\n        height: 1080,\n        framerate: 30,\n        duration: 238.53,\n        annotations: {\n          activities: `${process.env.BASE_URL}data/activities.yml`,\n          geom: `${process.env.BASE_URL}data/geom.yml`,\n          types: `${process.env.BASE_URL}data/types.yml`,\n        },\n      }\n    };\n  },\n  computed: mapState(['colorBy']),\n  async mounted() {\n    this.setUrl({ url: this.video.url });\n    this.setWidth({ width: parseInt(this.video.width || 1920, 10) });\n    this.setHeight({ height: parseInt(this.video.height || 1080, 10) });\n    this.setFramerate({\n      framerate: parseFloat(this.video.framerate || 30.0),\n    });\n    this.setDuration({\n      duration: parseFloat(this.video.duration || 300.0),\n    });\n    if ('annotations' in this.video) {\n      const { annotations } = this.video;\n      this.err = '';\n      try {\n        this.loading = true;\n        const { data: activities } = await axios.get(annotations.activities);\n        const { data: geom } = await axios.get(annotations.geom);\n        const { data: type } = await axios.get(annotations.types);\n        const kpf = KPF.fromText(activities, geom, type);\n        const tdms = kpf.getTDM({ origin: 'S3' });\n        tdms.forEach(track => track.shapes = generateDetectionLines(track.detections));\n        this.setTracks({ tracks: tdms, key: this.initialColorBy });\n        this.loading = false;\n      } catch (err) {\n        this.err = err.message;\n        this.loading = false;\n      }\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'setUrl',\n      'setWidth',\n      'setHeight',\n      'setDuration',\n      'setFramerate',\n      'setColorBy',\n      'bucketSort',\n      'colorByMeta',\n    ]),\n    ...mapActions(['addTracks', 'setTracks']),\n  },\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--11-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=40b90de4&lang=pug&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint no-param-reassign: 0 */\n/* eslint no-shadow: 0 */\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport { interpolateFrames, STATES } from '../utils/tdm';\nimport { SORT_RESOLUTION, CONTRAST_COLORS, SEQUENCE_COLORS, DISABLED_COLOR } from '../constants';\n\nVue.use(Vuex);\n\nconst state = {\n  /* TDM State */\n  tracks: [], // Array<Track>\n  statemap: {}, // Object<String, TrackState> map of metadata value to state\n  colormap: {}, // Object<String, Color> map of metadata value to color\n  cache: {}, // Object<String, Array<Track>> reverse map of metadata value to tracks with that value\n  colorBy: '', // String metadata category to color by\n  preselect: '', // String metadata value.\n\n  /**\n   * Object<String, Object<Number, Array<Detection>>>\n   * map Track.key -> (map key -> []detection)\n   */\n  sortedTracks: {},\n\n  /* Video state */\n  url: '',\n  width: 1920,\n  height: 1080,\n  framerate: 30,\n  duration: 300, // seconds\n  offset: 0, // seconds\n\n  /* Control state */\n  playbackRate: 1,\n  labels: true,\n  shapes: true,\n  playing: true,\n};\n\nconst getters = {\n\n  activeContinuousFrames: state => (frametime) => {\n    const continuousFrames = [];\n    const f = Math.floor(frametime);\n    const key = Math.floor(f / SORT_RESOLUTION) * SORT_RESOLUTION;\n\n    state.tracks.forEach((track) => {\n      const sorted = state.sortedTracks[track.key];\n      if (!track.interpolated && key in sorted) {\n        const detections = sorted[key];\n        const firstDetectionTime = detections[0].frame;\n        const detectionIndex = f - firstDetectionTime;\n        if (detectionIndex >= 0 && detections.length > detectionIndex) {\n          continuousFrames.push(detections[detectionIndex]);\n        }\n      }\n    });\n    return continuousFrames;\n  },\n\n  activeKeyFrames: state => (frametime) => {\n    const frames = state.tracks\n      .filter(trackinfo => trackinfo.interpolated)\n      .map((trackinfo) => {\n        const track = trackinfo.detections;\n        for (let i = 0; i < track.length - 1; i += 1) {\n          const d0 = track[i];\n          const d1 = track[i + 1];\n          if (frametime >= d0.frame && frametime <= d1.frame) {\n            return interpolateFrames(frametime, d0, d1);\n          }\n        }\n        return null;\n      })\n      .filter(track => track !== null);\n    return frames;\n  },\n};\n\nconst mutations = {\n  bucketSort: (state) => {\n    state.sortedTracks = {};\n    state.tracks.forEach((track) => {\n      if (!(track.key in state.sortedTracks)) {\n        const bucket = {};\n        track.detections.forEach((d) => {\n          const key = Math.floor(d.frame / SORT_RESOLUTION) * SORT_RESOLUTION;\n          if (key in bucket) {\n            bucket[key].push(d);\n          } else {\n            bucket[key] = [d];\n          }\n        });\n        Object.keys(bucket).forEach((k) => {\n          bucket[k] = bucket[k].sort((a, b) => a.frame - b.frame);\n        });\n        state.sortedTracks[track.key] = bucket;\n      }\n    });\n  },\n\n  colorByMeta(state, { key }) {\n    const assignedColors = {};\n    const cache = {};\n    let counter = 0;\n    state.tracks.forEach((track) => {\n      const val = track.meta[key];\n      if (val in assignedColors) {\n        track.color = assignedColors[val];\n        cache[val].push(track);\n      } else {\n        const color = CONTRAST_COLORS[counter % CONTRAST_COLORS.length];\n        track.color = color;\n        assignedColors[val] = color;\n        cache[val] = [track];\n        counter += 1;\n      }\n    });\n    state.cache = cache;\n    state.colormap = assignedColors;\n    state.colorBy = key;\n  },\n\n  colorByBucketSequence(state, { key }) {\n    const assignedColors = {};\n    state.tracks.forEach((track) => {\n      const value = track.meta[key] || -1;\n      const i = Math.floor(value / SEQUENCE_COLORS.length);\n      const color = i >= 0 ? SEQUENCE_COLORS[i] : DISABLED_COLOR;\n      assignedColors[value] = color;\n      track.color = color;\n    });\n    state.colormap = assignedColors;\n  },\n\n  resetState(state, { newstate }) {\n    const enabledMap = {};\n    state.tracks.forEach((track) => {\n      track.state = newstate;\n      enabledMap[track.meta[state.colorBy]] = newstate;\n    });\n    state.statemap = enabledMap;\n  },\n\n  setColorBy(state, { colorBy }) {\n    state.colorBy = colorBy;\n  },\n  setPreselect(state, { preselect }) {\n    state.preselect = preselect;\n  },\n  setTracks(state, { tracks }) {\n    state.tracks = tracks;\n  },\n\n  /* Video Mutation */\n\n  setUrl(state, { url }) {\n    state.url = url;\n  },\n  setWidth(state, { width }) {\n    state.width = width;\n  },\n  setHeight(state, { height }) {\n    state.height = height;\n  },\n  setDuration(state, { duration }) {\n    state.duration = duration;\n  },\n  setFramerate(state, { framerate }) {\n    state.framerate = framerate;\n  },\n  setOffset(state, { offset }) {\n    state.offset = offset;\n  },\n\n  /* Control Mutation */\n\n  setPlaybackRate(state, { playbackRate }) {\n    state.playbackRate = playbackRate;\n  },\n  setShowLabels(state, { labels }) {\n    state.labels = labels;\n  },\n  setShowShapes(state, { shapes }) {\n    state.shapes = shapes;\n  },\n  setPlaying(state, { playing }) {\n    state.playing = playing;\n  },\n\n  /**\n   * Enable or disable tracks by meta key\n   * @param {String} key\n   * @param {Any} value\n   * @param {Boolean} newState state to set iff key = value\n   * @param {Boolean} elseState state to set iff key != value\n   * @param {Boolean} xor whether or not to set elseState if else condition\n   * @returns {Object<String, Boolean>} value to enabled map\n   */\n  toggleByMeta(state, {\n    value,\n    newState = STATES.DISABLED,\n    elseState = STATES.ACTIVE,\n    xor = false,\n  }) {\n    const key = state.colorBy;\n    const enabledMap = {};\n    state.tracks.forEach((track) => {\n      if (String(track.meta[key]) === value) {\n        track.state = newState;\n        enabledMap[track.meta[key]] = newState;\n      } else if (xor) { // flip state where value doesn't match\n        track.state = elseState;\n        enabledMap[track.meta[key]] = elseState;\n      } else { // preserve state where value doesn't match\n        enabledMap[track.meta[key]] = track.state;\n      }\n    });\n    state.statemap = enabledMap;\n  },\n};\n\nconst actions = {\n  /**\n   * Serialize tracks to JSON string.\n   */\n  setTracks({ commit }, { tracks, key }) {\n    commit('setTracks', { tracks });\n    commit('colorByMeta', { key });\n    commit('bucketSort');\n    commit('resetState', { newstate: STATES.ACTIVE });\n  },\n\n  addTracks({ state, commit }, { tracks, key }) {\n    commit('setTracks', { tracks: state.tracks.concat(tracks) });\n    commit('colorByMeta', { key });\n    commit('bucketSort');\n    commit('resetState', { newstate: STATES.ACTIVE });\n  },\n\n  groupByMeta({ commit }, { key }) {\n    commit('colorByMeta', { key });\n    commit('resetState', { newstate: STATES.ACTIVE });\n  },\n};\n\nexport default new Vuex.Store({\n  state,\n  getters,\n  actions,\n  mutations,\n});\n","import Vue from 'vue';\nimport Tdm from '@';\nimport App from './App.vue';\nimport store from '@/store';\n\nVue.use(Tdm);\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app');\n"],"sourceRoot":""}